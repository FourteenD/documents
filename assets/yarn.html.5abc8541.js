import{r as n,o as s,c as a,a as p,F as t,b as e,d as o}from"./app.221f0787.js";const c={},r=p("h2",{id:"强制使用-yarn",tabindex:"-1"},[p("a",{class:"header-anchor",href:"#强制使用-yarn","aria-hidden":"true"},"#"),e(" 强制使用 yarn")],-1),l=e("该脚本来源于 "),u={href:"https://github.com/vuejs/vue-next/blob/master/scripts/checkYarn.js",target:"_blank",rel:"noopener noreferrer"},i=e("Vue"),k=e("："),d=o('<div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">yarn\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_execpath <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>\n    <span class="token string">&#39;\\u001b[33mThis repository requires Yarn 1.x for scripts to work properly.\\u001b[39m\\n&#39;</span>\n  <span class="token punctuation">)</span>\n  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>配合上 <code>package.json</code> 的 <code>preinstall</code> 生命周期：</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;preinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./scripts/checkYarn.js&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>这样就大功告成了。</p><h2 id="link" tabindex="-1"><a class="header-anchor" href="#link" aria-hidden="true">#</a> link</h2><p><code>yarn link</code> 并不像 <code>npm link</code> 一样可以全局使用，需要安装到指定文件夹下才可使用，当然也是有一定的方法的：</p><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;link:add&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn global add file:$(pwd)&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>执行 <code>yarn link:add</code> 即可。</p>',8);c.render=function(e,o){const c=n("OutboundLink");return s(),a(t,null,[r,p("p",null,[l,p("a",u,[i,p(c)]),k]),d],64)};export default c;
